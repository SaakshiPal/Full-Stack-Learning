----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ“˜ WEEK 5 â€“ DAY 2 React | Class Components & Lifecycle Methods

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ¯ Goal of Day 2

âœ” Understand **class components**
âœ” Learn **state & props in class components**
âœ” Master **lifecycle methods**
âœ” Know **when and why class components were used**

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ§  What is a Class Component?

A **class component** is a React component created using an **ES6 class**.

* Extends `React.Component`
* Uses `render()` method
* Can manage **state**
* Uses **lifecycle methods**

ğŸ“Œ Older way of writing React components
ğŸ“Œ Mostly replaced by **functional components + hooks**

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ§¾ Basic Class Component Example

```jsx
import React from "react";

class Welcome extends React.Component {
  render() {
    return <h1>Hello React</h1>;
  }
}

export default Welcome;
```

ğŸ“Œ `render()` is mandatory
ğŸ“Œ JSX must be returned from `render()`

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ†š Functional vs Class Components (Quick Recap)

| Functional           | Class                  |
| -------------------- | ---------------------- |
| JavaScript function  | ES6 class              |
| Uses Hooks           | Uses lifecycle methods |
| Less code            | More boilerplate       |
| Modern & preferredâ­ | Legacy                |

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ“¦ Props in Class Components

Props are accessed using `this.props`.

```jsx
class User extends React.Component {
  render() {
    return <h2>Hello {this.props.name}</h2>;
  }
}

// Usage
<User name="Saakshi" />
```

ğŸ“Œ Props are **read-only**

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ§  State in Class Components

State stores **dynamic data**.

Initializing State

```jsx
class Counter extends React.Component {
  constructor() {
    super();
    this.state = {
      count: 0
    };
  }

  render() {
    return <h1>{this.state.count}</h1>;
  }
}
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ” Updating State (`setState`)

```jsx
this.setState({
  count: this.state.count + 1
});
```

ğŸ“Œ Never update state directly
âŒ `this.state.count++`

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ§¬ What are Lifecycle Methods?

Lifecycle methods are **special methods** that run at **different stages** of a componentâ€™s life.

ğŸ“Œ Used for:

* API calls
* DOM updates
* Cleanup
* Performance optimization

-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ”„ Lifecycle Phases

1ï¸âƒ£ Mounting (Component is created)

* `constructor()`
* `render()`
* `componentDidMount()`

---

2ï¸âƒ£ Updating (State/Props change)

* `render()`
* `componentDidUpdate()`

---

3ï¸âƒ£ Unmounting (Component removed)

* `componentWillUnmount()`

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸš€ componentDidMount()

Runs **once after component renders**.

ğŸ“Œ Best place for:

* API calls
* Subscriptions
* Timers

```jsx
componentDidMount() {
  console.log("Component mounted");
}
```

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ”„ componentDidUpdate()

Runs **after state or props update**.

```jsx
componentDidUpdate(prevProps, prevState) {
  if (prevState.count !== this.state.count) {
    console.log("Count updated");
  }
}
```

ğŸ“Œ Always compare previous values to avoid infinite loops

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

âŒ componentWillUnmount()

Runs **before component is destroyed**.

```jsx
componentWillUnmount() {
  console.log("Component removed");
}
```

ğŸ“Œ Cleanup:

* Timers
* Event listeners
* Subscriptions

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ§  Complete Lifecycle Example

```jsx
class Demo extends React.Component {
  constructor() {
    super();
    this.state = { count: 0 };
  }

  componentDidMount() {
    console.log("Mounted");
  }

  componentDidUpdate() {
    console.log("Updated");
  }

  componentWillUnmount() {
    console.log("Unmounted");
  }

  render() {
    return <button onClick={() => this.setState({ count: this.state.count + 1 })}>
      {this.state.count}
    </button>;
  }
}
```

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

âš ï¸ Deprecated Lifecycle Methods (Donâ€™t Use âŒ)

* `componentWillMount`
* `componentWillReceiveProps`
* `componentWillUpdate`

ğŸ“Œ Replaced by hooks

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

âŒ Common Beginner Mistakes

* Forgetting `super()` in constructor
* Updating state directly
* Forgetting `this` keyword
* Infinite loops in `componentDidUpdate`

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ğŸ’¡ Best Practices

* Prefer functional components
* Use class components only to understand legacy code
* Always use `setState`
* Cleanup in `componentWillUnmount`

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

âœ… DAY-2 Summary (Week-5)

* What class components are
* Props & state in class components
* Lifecycle phases
* componentDidMount / Update / Unmount
* Legacy vs modern React

